{% extends 'base.html' %}
{% block title %}Habit Details{% endblock %}
{% block content %}
    <h1>Habit Details</h1>
    <h3>{{ habit }}</h3>
    <h3>Goal: {{ habit.goal }}</h3>
    {% comment %} <table>
        <tr>
            <th>Date</th>
        {% for record in habit.records.all %}
            <th>{{ record.date }}</th>
        {% endfor %}
        </tr>
        <tr>
            <th>Number Completed</th>
            {% for record in habit.records.all %}
                <td>{{ record.number_completed }}</td>
            {% endfor %}
        </tr>
        <tr>
            <th>Goal Completed?</th>
            {% for record in habit.records.all %}
                {% if record.number_completed >= record.habit.goal %}
                    <td>yes</td>
                {% else %}
                    <td>no</td>
                {% endif %}
        </tr>
    </table> {% endcomment %}

    <table>
        <tr>
            <th>Date</th>
            <th>Number Completed</th>
            <th>Goal Reached?</th>
        </tr>
        {% for record in habit.records.all %}
        <tr>
            <td>{{ record.date }}</td>
            <td>{{ record.number_completed }}</td>
            {% if record.number_completed >= record.habit.goal %}
                <td>YES</td>
            {% else %}
                <td>NO</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
    <footer>
        <button><a href="{% url 'add_record' habit.pk %}">Add New Record</a></button>
        <button><a href="{% url 'home' %}">Home</a></button>
    </footer>
{% endblock %}